{{ block "preload" . }}
{{ with .Content }}{{ end }}
{{ end }}

{{ $site := .Site.Title | default "Hugo Flex" }}
<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    {{ if eq .Title $site }}
    {{ $site }}
    {{ else }}
    {{ with .Title }}{{ . }} | {{ end }}{{ $site }}
    {{ end }}
  </title>
  {{ range .AlternativeOutputFormats }}
  {{ printf "<link rel=%q type=%q href=%q title=%q>" .Rel .MediaType.Type .RelPermalink $site | safeHTML }}
  {{ end }}
  <style>
    {{ partialCached "critical.css" . | safeCSS }}
    {{ range (.Scratch.Get "css" | uniq) }}
    {{ partial . | safeCSS }}
    {{ end }}
  </style>
  {{ .Hugo.Generator }}
</head>
<body>
  <nav class="u-background">
    <div class="u-wrapper">
      <ul class="Banner">
        <li class="Banner-item u-expand">
          <a class="Banner-link u-clickable" href="/">{{ $site }}</a>
        </li>
        {{ range .Site.Menus.nav }}
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="{{ .URL }}">{{ .Name }}</a>
        </li>
        {{ end }}
      </ul>
    </div>
  </nav>
  <main class="u-expand">
    <div class="u-wrapper">
      <div class="u-padding">
        {{ block "main" . }}{{ end }}
      </div>
    </div>
  </main>
  {{ with .Site.Params.footer }}
  <footer class="Footer">
    <div class="u-wrapper">
      <div class="u-padding">
        {{ . | safeHTML }}
      </div>
    </div>
  </footer>
  {{ end }}
  {{ range (.Scratch.Get "js" | uniq) }}
  <script>
    {{ partial . | safeJS }}
  </script>
  {{ end }}
</body>
</html>